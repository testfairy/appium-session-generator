"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isBrowserstackCapability = exports.getBrowserCapabilities = exports.getBrowserDescription = void 0;
const constants_1 = require("./constants");
function getBrowserDescription(cap) {
    cap = cap || {};
    if (cap['bstack:options']) {
        cap = { ...cap, ...cap['bstack:options'] };
    }
    return constants_1.BROWSER_DESCRIPTION
        .map(k => cap[k])
        .filter(v => !!v)
        .join(' ');
}
exports.getBrowserDescription = getBrowserDescription;
function getBrowserCapabilities(browser, caps = {}, browserName) {
    if (!browser.isMultiremote) {
        return { ...browser.capabilities, ...caps };
    }
    const globalCap = browserName && browser[browserName] ? browser[browserName].capabilities : {};
    const cap = browserName && caps[browserName] ? caps[browserName].capabilities : {};
    return { ...globalCap, ...cap };
}
exports.getBrowserCapabilities = getBrowserCapabilities;
function isBrowserstackCapability(cap) {
    return Boolean(cap && cap['bstack:options']);
}
exports.isBrowserstackCapability = isBrowserstackCapability;
